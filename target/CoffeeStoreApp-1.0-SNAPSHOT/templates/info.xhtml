<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <div class="title">
        <h1>SPECIAL</h1>
        <hr/>
    </div>
    <div id="container" class="main">
        <c:forEach var="pro" items="#{productBean.products}">
            <h:link outcome="products/detail?faces-redirect=true&amp;product_id=#{pro.id}">
                <div class="item">
                    <div class="img">
                        <h:graphicImage library="images" 
                                        name="#{pro.image}" 
                                        alt="#{pro.name}"
                                        width="100%" 
                                        height="100%"/>
                    </div>
                    <div class="desciption">
                        <p id="textproductname">
                            <a>
                                <h:link outcome="products/detail?faces-redirect=true&amp;product_id=#{pro.id}">
                                    #{pro.name}
                                </h:link>
                            </a>
                        </p>
                        <p id="textcategory">
                            #{pro.category.name}
                        </p>
                    </div>
                    <p class="price">
                        #{pro.price} VND
                    </p>
                    <h:form>
                        <p class="buy" id="buy">
                            <h:commandButton value="test" styleClass="btn btn-warning" onclick="reload()">
                                <f:ajax listener="#{cartBean.addItemtoCart(pro.id, pro.name, pro.price, pro.image)}"/>
                            </h:commandButton>
                            <script>
                            function reload() {
                                alert("Them thanh cong!!!");
                                location.reload();
                            }
                            </script>
                        </p>
                    </h:form>
                </div>
            </h:link>
        </c:forEach>
    </div>
</ui:composition>
