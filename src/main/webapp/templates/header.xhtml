<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <header class="py-0">
        <a class="logo" href="/CoffeeStoreApp">
            <h1>Coffee Store Web</h1>
        </a>
        <nav>
            <ul class="nav_links">
                <li><a href="#">#{lang['navbar.home']}</a></li>
                <li>
                    <span data-toggle="modal" data-target="#cartModal">
                        <a href="#">Cart</a>
                    </span>
                </li>
                <li><a href="/CoffeeStoreApp/faces/products/list.xhtml">#{lang['navbar.allproduct']}</a></li>
                <li>
                    <div class="dropdown">
                        <a href="#"><button>#{lang['navbar.categories']}</button></a>
                        <div class="dropdown-content">
                            <c:forEach var="cate" items="#{categoryBean.categories}">
                                <a href="index?category_id=#{cate.id}">#{cate.name}</a>
                            </c:forEach>
                        </div>
                    </div>
                </li>
                <li><a href="#">#{lang['navbar.aboutus']}</a></li>
                <li>
                    <a href="#">
                        <svg width="1em" height="1em" 
                             viewBox="0 0 16 16" 
                             class="bi bi-search" 
                             fill="currentColor">
                            <path fill-rule="evenodd"
                                  d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z" />
                            <path fill-rule="evenodd"
                                  d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z" />
                        </svg>
                    </a>
                </li>
            </ul>
        </nav>


        <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
                <div class="modal-content" style="color: black;">
                    <h5 style="margin: 11px;">YOUR CART</h5>
                    <div class="modal-body">

                        <h:dataTable styleClass="table table-image"
                                     id="datamodal"
                                     var="cart" value="#{cartBean.carts}">
                            <h:column>
                                <f:facet name="header">Mã sản phẩm</f:facet>
                                    #{cart['productId']}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Hình ảnh</f:facet>
                                <h:graphicImage library="images" name="#{cart['image']}"  width="15px" 
                                                height="15px">  
                                </h:graphicImage>
                            </h:column>
                            <h:column>
                                <f:facet name="header">Tên sản phẩm</f:facet>
                                    #{cart['productName']}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Số lượng</f:facet>
                                    #{cart['count']}
                            </h:column>
                            <h:column>
                                <f:facet name="header">ACtion</f:facet>
                                <button onclick="RemoveItem(#{cart['productId']})">
                                    TEst
                                </button>
                            </h:column>
                            <h:column>
                                <f:facet name="header">Thành tiền</f:facet>
                                    #{cart['productPrice']}
                            </h:column>
                            <h:column>
                                <f:facet name="header" ></f:facet>
                            </h:column>
                        </h:dataTable>    
                        <div class="d-flex justify-content-end">
                            <h5>Total: <span class="pricemodal text-success">89$</span></h5>
                        </div>
                    </div>
                    <div class="modal-footer border-top-0 d-flex justify-content-between">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-success">Checkout</button>
                    </div>
                </div>
            </div>

            <script>
                $(document).ready(function() {  
                    $('#cartModal').modal('show');
                    });  
                    
                    function RemoveItem(Id) {
                        alert(Id);
                    }

            </script>
        </div>
    </header>
</ui:composition>